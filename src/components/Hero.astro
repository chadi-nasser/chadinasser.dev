---
import FlipAvatar from "./FlipAvatar.astro";

import { GITHUB_USERNAME } from "@/consts.ts";

const userInfo = await fetch(
  `https://api.github.com/users/${GITHUB_USERNAME}`
).then((res) => res.json());
---

<div class="mt-12 flex flex-col sm:flex-row-reverse gap-6">
  <div class="mx-auto size-48 sm:size-64 mb-4 sm:mb-0 sm:h-auto">
    <FlipAvatar githubImage={userInfo?.avatar_url} />
  </div>
  <div class="p-6 border bg-card rounded-xl w-full">
    <span class="inline-block text-3xl animate-wiggle">ðŸ‘‹</span>
    <p class="inline-block text-muted-foreground ~text-xl/3xl">
      Hey there, this is me
    </p>
    <h1 class="~text-5xl/6xl font-semibold pt-1 pb-3 text-primary">
      {userInfo?.name ? userInfo.name : "Unknown User"}
    </h1>
    <div class="text-muted-foreground ~text-lg/xl flex flex-col items-start">
      {
        userInfo?.bio ? (
          <q class="hyphens-auto">{userInfo.bio}</q>
        ) : (
          "Error 404! Bio not found."
        )
      }
    </div>
  </div>
</div>
